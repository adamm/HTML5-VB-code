<!doctype html>
<html>
  <head>
    <title>Web Storage - HTML5.array.org</title>
    <!--[if lt IE 9]>
    <script src='http://html5shim.googlecode.com/svn/trunk/html5.js'></script>
    <![endif]-->
    <base href='http://192.168.1.11/~adamm/html5/chapter12/'>
    <script type='text/javascript' src='jquery-1.6.1.js'></script>
    <script type='text/javascript' src='highlight.min.js'></script>
    <link rel="stylesheet" href='highlight.min.css'>
    <link rel='stylesheet' type='text/css' media='all' href='base.css'>
    <link rel='stylesheet' type='text/css' media='screen and (max-width: 500px)' href='mobile.css'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=yes'>
    <meta content='text/html; charset=UTF-8' http-equiv='content-type'>
    <script type='text/javascript'>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <div class='content'>
    <header>
      <nav>
        <a href='index.html'>Home</a>
        <a href='tutorials/'>Tutorials</a>
        <a href='demos/'>Demos</a>
        <a href='vb/'>Visual&nbsp;Blueprint&trade;</a>
      </nav>
      <h1>HTML5.array.org</h1>
    </header>
    <section id='articles'>
      <h2>Demos</h2>
      <article class='demos'>
        <hgroup>
          <h3>Web Storage</h3>
          <h4>Storing into Local and Session Storage</h4>
          <h5>Synopsis</h5>
        </hgroup>
        <pre><code class='javascript'>localStorage.setItem(<mark>key</mark>, <mark>string</mark>);
sessionStorage.setItem(<mark>key</mark>, <mark>string</mark>);

localStorage.setItem(<mark>key</mark>, JSON.stringify(<mark>object</mark>));
sessionStorage.setItem(<mark>key</mark>, JSON.stringify(<mark>object</mark>));
</code></pre>
        <hgroup>
          <h4>Retrieving from Local and Session Storage</h4>
          <h5>Synopsis</h5>
        </hgroup>
        <pre><code class='javascript'><mark>localString</mark> = localStorage.getItem(<mark>key</mark>);
<mark>sessionString</mark> = sessionStorage.getItem(<mark>key</mark>);

<mark>localObject</mark> = JSON.parse(localStorage.getItem(<mark>key</mark>);
<mark>sessionObject</mark> = JSON.parse(sessionStorage.getItem(<mark>key</mark>);
</code></pre>
        <h5>Example</h5>
        <style>
          article.example {
            margin: 10px;
          }
        </style>
        <script type="text/javascript">
          $(function(){
            var count = 0;

            if (sessionStorage.getItem('sessionCount'))
              count = JSON.parse(sessionStorage.getItem('sessionCount'));
            sessionStorage.setItem('sessionCount', JSON.stringify(++count));

            $('output#sessionCount').text(count);
            if ( count != 1 )
              $('output#sessionCountPlural').text('s');

            count = 0;
            if (localStorage.getItem('localCount'))
              count = JSON.parse(localStorage.getItem('localCount'));
            localStorage.setItem('localCount', JSON.stringify(++count));

            $('output#localCount').text(count);
            if ( count != 1 )
              $('output#localCountPlural').text('s');
          });
        </script>
        <article class='example'>
          <p>
            You have visited this web page <output id='sessionCount' class='bold'>at
            least one</output> time<output id='sessionCountPlural'></output>
            this browser session, and <output id='localCount' class='bold'>at least one</output>
            time<output id='localCountPlural'></output> with this browser.
          </p>
        </article>
      </article>
    </section>
    <footer>
      &copy;2011 Adam McDaniel
    </footer>
    </div>
  </body>
</html>
